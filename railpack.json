{
    "$schema": "https://schema.railpack.com",
    "packages": {
        "php": "8.4"
    },
    "buildAptPackages": [
        "libzip-dev",
        "unzip",
        "zip",
        "git",
        "libonig-dev",
        "libxml2-dev",
        "libpng-dev",
        "libjpeg-dev",
        "libfreetype6-dev"
    ],
    "steps": {
        "prepare": {
            "commands": [
                "mkdir -p /usr/local/etc/php/conf.d",
                "mkdir -p /conf.d/",
                "install-php-extensions exif gd zip || true"
            ]
        },
        "install": {
            "commands": [
                "install-php-extensions ctype curl dom fileinfo filter hash mbstring openssl pcre pdo session tokenizer xml || true",
                "composer install --optimize-autoloader --no-scripts --no-interaction"
            ]
        }
    },
    "deploy": {
        "base": {
            "image": "dunglas/frankenphp:php8.4.14-bookworm"
        },
        "startCommand": "./start-container.sh"
    }
}
